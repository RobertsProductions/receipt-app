<div class='register-page'>
  <div class='register-container'>
    <app-card class='register-card' padding='lg'>
      <div class='register-header'>
        <h1 class='register-title'>Create Account</h1>
        <p class='register-subtitle'>Start organizing your receipts today</p>
      </div>

      <form [formGroup]='registerForm' (ngSubmit)='onSubmit()' class='register-form'>
        <app-input
          type='text'
          label='Username'
          placeholder='johndoe'
          formControlName='username'
          [error]='usernameError'
          autocomplete='username'
          required>
        </app-input>

        <app-input
          type='email'
          label='Email Address'
          placeholder='you@example.com'
          formControlName='email'
          [error]='emailError'
          autocomplete='email'
          required>
        </app-input>

        <div>
          <app-input
            type='password'
            label='Password'
            placeholder='Enter your password'
            formControlName='password'
            [error]='passwordError'
            autocomplete='new-password'
            required>
          </app-input>
          
          <div class='password-strength' *ngIf='registerForm.get("password")?.value'>
            <div class='strength-bar'>
              <div
                class='strength-fill'
                [class.weak]='passwordStrength === "weak"'
                [class.medium]='passwordStrength === "medium"'
                [class.strong]='passwordStrength === "strong"'>
              </div>
            </div>
            <span class='strength-text' [class]='"strength-" + passwordStrength'>
              {{ passwordStrength === "weak" ? "Weak" : passwordStrength === "medium" ? "Medium" : "Strong" }}
            </span>
          </div>
        </div>

        <app-input
          type='password'
          label='Confirm Password'
          placeholder='Re-enter your password'
          formControlName='confirmPassword'
          [error]='confirmPasswordError'
          autocomplete='new-password'
          required>
        </app-input>

        <app-button
          type='submit'
          variant='primary'
          size='lg'
          [fullWidth]='true'
          [loading]='loading'
          [disabled]='loading'>
          Create Account
        </app-button>
      </form>

      <div class='register-footer'>
        <p class='login-prompt'>
          Already have an account?
          <a routerLink='/login' class='login-link'>Sign in</a>
        </p>
      </div>
    </app-card>

    <div class='back-home'>
      <a routerLink='/' class='back-link'>‚Üê Back to Home</a>
    </div>
  </div>
</div>

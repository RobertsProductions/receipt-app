<div class="forgot-password-page">
  <div class="forgot-password-container">
    <app-card>
      <div class="forgot-password-content">
        <!-- Email Sent Success -->
        <div *ngIf="emailSent" class="success-state">
          <svg class="success-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76" />
          </svg>
          
          <h1 class="title">Check Your Email</h1>
          <p class="message">
            We've sent a password reset link to <strong>{{ email }}</strong>. 
            Please check your email and follow the instructions to reset your password.
          </p>

          <div class="actions">
            <app-button
              variant="primary"
              size="lg"
              [fullWidth]="true"
              testId="back-to-login-button"
              (onClick)="backToLogin()">
              Back to Login
            </app-button>
          </div>
        </div>

        <!-- Request Form -->
        <div *ngIf="!emailSent" class="form-state">
          <div class="header">
            <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
            </svg>
            
            <h1 class="title">Forgot Password?</h1>
            <p class="message">
              Enter your email address and we'll send you a link to reset your password.
            </p>
          </div>

          <form (ngSubmit)="sendResetLink()" class="form">
            <app-input
              type="email"
              label="Email Address"
              placeholder="you@example.com"
              [(value)]="email"
              [required]="true"
              testId="email-input">
            </app-input>

            <div class="actions">
              <app-button
                type="submit"
                variant="primary"
                size="lg"
                [fullWidth]="true"
                [loading]="loading"
                [disabled]="!email"
                testId="send-reset-link-button">
                Send Reset Link
              </app-button>

              <a routerLink="/login" class="back-link" data-testid="back-to-login-link">
                Back to Login
              </a>
            </div>
          </form>
        </div>
      </div>
    </app-card>
  </div>
</div>
